1.
Step 1: add .jar in library

file->new->java project
DBConnection

package example.withDAO;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class DBConnection {

	public static Connection getConnection() throws SQLException {
		//this method is used to establish connection with DB and return the same
		
		String connectionUrl = "jdbc:mysql://localhost:3306/webbasedjavadb?useSSL=false";
		String userId = "root";
		String password = "Root123";
		Connection dbconnection = null ;
		try {
			dbconnection = DriverManager.getConnection(connectionUrl,userId,password);
		}catch (SQLException e) {
            System.out.println("Database connection failed!");
            e.printStackTrace();
        }
		
		
		return dbconnection;
		
	}
}


Student.java
package example.withDAO;

public class Student {
    private int id;
    private String name;
    private int age;
    private String course;

    // Constructors
    public Student() {}

    public Student(int id, String name, int age, String course) {
        this.id = id;
        this.name = name;
        this.age = age;
        this.course = course;
    }

    // Getters & Setters
    public int getId()
    { 
    	return id;
    }
    public void setId(int id) 
    { 
    	this.id = id; 
    }

    public String getName() 
    {
    	return name; 
    }
    public void setName(String name) 
    {
    	this.name = name; 
    }

    public int getAge()
    { 
    	return age;
    }
    public void setAge(int age) 
    { 
    	this.age = age; 
    }

    public String getCourse()
    { 
    	return course;
    }
    public void setCourse(String course) 
    { 
    	this.course = course; 
    }
}

StudentDAO
package example.withDAO;
import java.util.List;

public interface StudentDAO {
    void insertStudent(Student s);
    void updateStudent(Student s);
    void deleteStudent(int id);
    List<Student> getAllStudents();
}

StudentDaoImpl
package example.withDAO;
import java.sql.*;
import java.util.*;

public class StudentDAOImpl implements StudentDAO {

    @Override
    public void insertStudent(Student s) {
        String sql = "INSERT INTO Student VALUES (?,?,?,?)";

        try (
        		Connection con = DBConnection.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {

            ps.setInt(1, s.getId());
            ps.setString(2, s.getName());
            ps.setInt(3, s.getAge());
            ps.setString(4, s.getCourse());

            ps.executeUpdate();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public void updateStudent(Student s) {
        String sql = "UPDATE Student SET name=?, age=?, course=? WHERE id=?";

        try (Connection con = DBConnection.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {

            ps.setString(1, s.getName());
            ps.setInt(2, s.getAge());
            ps.setString(3, s.getCourse());
            ps.setInt(4, s.getId());

            ps.executeUpdate();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public void deleteStudent(int id) {
        String sql = "DELETE FROM Student WHERE id=?";

        try (Connection con = DBConnection.getConnection();
             PreparedStatement ps = con.prepareStatement(sql)) {

            ps.setInt(1, id);
            ps.executeUpdate();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    @Override
    public List<Student> getAllStudents() {
        List<Student> list = new ArrayList<>();
        String sql = "SELECT * FROM Student";

        try (Connection con = DBConnection.getConnection();
             PreparedStatement ps = con.prepareStatement(sql);
             ResultSet rs = ps.executeQuery()) {

            while (rs.next()) {
                Student s = new Student(
                        rs.getInt("id"),
                        rs.getString("name"),
                        rs.getInt("age"),
                        rs.getString("course")
                );
                list.add(s);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return list;
    }
}

MainApp.javapackage example.withDAO;import java.util.List;
import java.util.Scanner;

public class MainApp {

    public static void main(String[] args) {

        StudentDAO dao = new StudentDAOImpl();
        Scanner sc = new Scanner(System.in);
        int choice;

        do {
            System.out.println("\n--- STUDENT CRUD MENU ---");
            System.out.println("1. Insert");
            System.out.println("2. Update");
            System.out.println("3. Delete");
            System.out.println("4. Display");
            System.out.println("0. Exit");
            System.out.print("Enter choice: ");
            choice = sc.nextInt();

            switch (choice) {
                case 1:
                    System.out.print("ID: ");
                    int id = sc.nextInt();
                    System.out.print("Name: ");
                    String name = sc.next();
                    System.out.print("Age: ");
                    int age = sc.nextInt();
                    System.out.print("Course: ");
                    String course = sc.next();

                    dao.insertStudent(new Student(id, name, age, course));
                    break;

                case 2:
                    System.out.print("ID: ");
                    id = sc.nextInt();
                    System.out.print("New Name: ");
                    name = sc.next();
                    System.out.print("New Age: ");
                    age = sc.nextInt();
                    System.out.print("New Course: ");
                    course = sc.next();

                    dao.updateStudent(new Student(id, name, age, course));
                    break;

                case 3:
                    System.out.print("Enter ID to delete: ");
                    dao.deleteStudent(sc.nextInt());
                    break;

                case 4:
                    List<Student> list = dao.getAllStudents();
                    System.out.println("\nID Name Age Course");
                    for (Student s : list) {
                        System.out.println(
                                s.getId() + " " +
                                s.getName() + " " +
                                s.getAge() + " " +
                                s.getCourse()
                        );
                    }
                    break;

                case 0:
                    System.out.println("Exit");
                    break;
                default:
                    System.out.println("Invalid choice");
            }
        } while (choice != 0);

        sc.close();
    }
}


2.
=======================Servlet Login System==============================
file->new->dynamic web project
target runtime->tomcat

src/main/webapp/login.html
<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>

<h2>Login Page</h2>

<form action="login" method="post">
    Username: <input type="text" name="username"><br><br>
    Password: <input type="password" name="password"><br><br>
    <input type="submit" value="Login">
</form>

</body>
</html>

src/main/webapp/dashboard.jsp
<html>
<body>
<h2>Welcome to Dashboard</h2>
<p>Login Successful</p>
</body>
</html>

src/main/webapp/error.jsp
<html>
<body>
<h2>Login Failed</h2>
<p>Invalid Username or Password</p>
<a href="login.html">Try Again</a>
</body>
</html>


src/main/java
package com.login
LoginServlet.java
package com.login;

import java.io.IOException;
import javax.servlet.*;
import javax.servlet.http.*;

public class LoginServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        String user = request.getParameter("username");
        String pass = request.getParameter("password");

        if(user.equals("admin") && pass.equals("admin123")) {

            RequestDispatcher rd =
                    request.getRequestDispatcher("dashboard.jsp");
            rd.forward(request, response);

        } else {

            RequestDispatcher rd =
                    request.getRequestDispatcher("error.jsp");
            rd.forward(request, response);
        }
    }
}


3.JSP + EL + JSTL Product Billing Page
file->new->Dynamic web project
target runtime->tomcat

add jar file  jstl-1.2.jar
copy jar file into - src/main/webapp/WEB-INF/lib

src/main/webapp/bill.jsp
<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>

<html>
<head>
    <title>Bill</title>
</head>
<body>

<h2>Bill Details</h2>

<table border="1" cellpadding="10">
    <tr><th>Item</th><td>${item}</td></tr>
    <tr><th>Price</th><td>${price}</td></tr>
    <tr><th>Quantity</th><td>${qty}</td></tr>
    <tr><th>Total</th><td>${total}</td></tr>
</table>

<br>

<c:if test="${total >= 500}">
    <b style="color:green;">Discount Applicable!</b>
</c:if>

</body>
</html>

src/main/webapp/billing.html
<!DOCTYPE html>
<html>
<head>
    <title>Product Billing</title>
</head>
<body>

<h2>Product Billing</h2>

<form action="bill" method="post">
    Item Name: <input type="text" name="item" required><br><br>
    Price: <input type="number" name="price" required><br><br>
    Quantity: <input type="number" name="qty" required><br><br>

    <input type="submit" value="Generate Bill">
</form>

</body>
</html>


src/main/webapp/WEB-INF/web.xml

<?xml version="1.0" encoding="UTF-8"?>

<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="
           http://xmlns.jcp.org/xml/ns/javaee
           http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

    <servlet>
        <servlet-name>BillingServlet</servlet-name>
        <servlet-class>com.billing.BillingServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>BillingServlet</servlet-name>
        <url-pattern>/bill</url-pattern>
    </servlet-mapping>

</web-app>


src/main/java
package- com.billing
BillingServlet.java

package com.billing;

import java.io.IOException;
import javax.servlet.*;
import javax.servlet.http.*;

public class BillingServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        String item = request.getParameter("item");
        double price = Double.parseDouble(request.getParameter("price"));
        int qty = Integer.parseInt(request.getParameter("qty"));

        double total = price * qty;

        request.setAttribute("item", item);
        request.setAttribute("price", price);
        request.setAttribute("qty", qty);
        request.setAttribute("total", total);

        RequestDispatcher rd =
                request.getRequestDispatcher("bill.jsp");
        rd.forward(request, response);
    }
}

6.Hibernate â€“ Employee Insert + Select

create database hibernatedb;
use hibernatedb;

file->new->maven project
check create a simple project
click nextInt
fill details -> Group Id - com.example
				ArtifactId - HibernateEmployeeApp
				packaging - jar				


src/main/java -->
com.example.entity

Employee.java
package com.example.entity;

import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;
import jakarta.persistence.Column;

@Entity
@Table(name = "employee")
public class Employee {

    @Id
    @Column(name = "id")
    private int id;

    @Column(name = "name")
    private String name;

    @Column(name = "salary")
    private double salary;

    public Employee() {}   // mandatory

    public Employee(int id, String name, double salary) {
        this.id = id;
        this.name = name;
        this.salary = salary;
    }

    public int getId() { return id; }
    public String getName() { return name; }
    public double getSalary() { return salary; }
}


com.example.util
HibernateUtil.java

package com.example.util;

import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;
import com.example.entity.Employee;

public class HibernateUtil {

	//this class handles programmatic configuration and returns SessionFactory
		public static SessionFactory getSessionFactory() throws Exception{
			Configuration cfg = new Configuration();
			//adding configuration specific properties
			cfg.setProperty("hibernate.connection.driver_class", "com.mysql.cj.jdbc.Driver");
			cfg.setProperty("hibernate.connection.url", "jdbc:mysql://localhost:3306/hibernatedb");
			cfg.setProperty("hibernate.connection.username", "root");
			cfg.setProperty("hibernate.connection.password", "Root123");
			cfg.setProperty("hibernate.show_sql", "true");
			cfg.setProperty("hibernate.hbm2ddl.auto", "update");
			
			//adding entity class to the configuration
			cfg.addAnnotatedClass(Employee.class);
			cfg.buildSessionFactory();
			
			SessionFactory factory = cfg.buildSessionFactory();
			return factory;
			
			
		}
}




com.example.main
EmployeeApp.java

EmployeeApp.java
package com.example.main;

import org.hibernate.HibernateException;
import org.hibernate.Session;
import org.hibernate.Transaction;
import com.example.entity.Employee;
import com.example.util.HibernateUtil;

import java.util.List;

public class EmployeeApp {
    public static void main(String[] args) {

        Session session = null;
		try {
			session = HibernateUtil.getSessionFactory().openSession();
		} catch (HibernateException e) {
			e.printStackTrace();
		} catch (Exception e) {
			e.printStackTrace();
		}
        Transaction tx = session.beginTransaction();

        // Insert record
        Employee emp = new Employee(1, "Rita", 50000);
        session.persist(emp);

        tx.commit();

        // Fetch records
        List<Employee> list =
            session.createQuery("from Employee", Employee.class).list();

        System.out.println("Employee Records:");
        for (Employee e : list) {
            System.out.println(
                e.getId() + " " + e.getName() + " " + e.getSalary()
            );
        }

        session.close();
        try {
			HibernateUtil.getSessionFactory().close();
		} catch (Exception e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
    }
}


pom.xml

<dependencies>

        <!-- Hibernate Core -->
        <dependency>
            <groupId>org.hibernate.orm</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>6.4.4.Final</version>
        </dependency>

        <!-- MySQL Connector -->
        <dependency>
    		<groupId>mysql</groupId>
    		<artifactId>mysql-connector-java</artifactId>
   			<version>8.0.33</version>
		</dependency>

        <!-- JPA API -->
        <dependency>
            <groupId>jakarta.persistence</groupId>
            <artifactId>jakarta.persistence-api</artifactId>
            <version>3.1.0</version>
        </dependency>

    </dependencies>
	

src/main/resources
hibernate.cfg.xml

<?xml version="1.0" encoding="UTF-8"?>
<hibernate-configuration>
    <session-factory>

        <property name="hibernate.connection.driver_class">
            com.mysql.cj.jdbc.Driver
        </property>

        <property name="hibernate.connection.url">
            jdbc:mysql://localhost:3306/hibernatedb?useSSL=false
        </property>

        <property name="hibernate.connection.username">root</property>
        <property name="hibernate.connection.password">Root123</property>

        <property name="hibernate.dialect">
            org.hibernate.dialect.MySQL8Dialect
        </property>

        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.hbm2ddl.auto">update</property>

        <mapping class="com.example.entity.Employee"/>

    </session-factory>
</hibernate-configuration>
	
	
	
7.JPA Repository + Spring Boot CRUD	
	
https://start.spring.io
project-maven, lang-java, Group - com.example
Artifact - productid, name - productid

deendencies -> Spring Web
			   Spring Data JPA
			   MySQL Driver
			  
click generate
extract ZIP
open in eclipse

com.example.productapi
package com.example.productapi;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class ProductapiApplication {

	public static void main(String[] args) {
		SpringApplication.run(ProductapiApplication.class, args);
	}

}

com.example.productapi.entity
package com.example.productapi.entity;

import jakarta.persistence.*;

@Entity
public class Product {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
    private double price;

    // getters & setters
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getName() { return name; }
    public void setName(String name) { this.name = name; }

    public double getPrice() { return price; }
    public void setPrice(double price) { this.price = price; }
}


com.example.productapi.repo
package com.example.productapi.repo;

import com.example.productapi.entity.Product;
import org.springframework.data.jpa.repository.JpaRepository;

public interface ProductRepository extends JpaRepository<Product, Long> {
}


com.example.productapi.controller
package com.example.productapi.controller;

import com.example.productapi.entity.Product;
import com.example.productapi.repo.ProductRepository;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/product")
public class ProductController {

    private final ProductRepository repo;

    public ProductController(ProductRepository repo) {
        this.repo = repo;
    }

    // GET ALL
    @GetMapping
    public List<Product> getAll() {
        return repo.findAll();
    }

    // POST
    @PostMapping
    public Product add(@RequestBody Product product) {
        return repo.save(product);
    }

    // GET BY ID
    @GetMapping("/{id}")
    public Product getById(@PathVariable Long id) {
        return repo.findById(id).orElseThrow();
    }
}


application.properties
spring.datasource.url=jdbc:mysql://localhost:3306/productdb
spring.datasource.username=root
spring.datasource.password=Root123

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

server.port=8080


pom.xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
<dependency>
    <groupId>com.mysql</groupId>
    <artifactId>mysql-connector-j</artifactId>
    <scope>runtime</scope>
</dependency>
			  


==========================================================
login page using JDBC
============================================================			 
login.html
<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>

<h2>Login Form</h2>

<form action="LoginServlet" method="post">
    Username: <input type="text" name="username"><br><br>
    Password: <input type="password" name="password"><br><br>
    <input type="submit" value="Login">
</form>

</body>
</html>


web.xml
<web-app>

    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>com.login.LoginServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/LoginServlet</url-pattern>
    </servlet-mapping>

</web-app>


LoginServlet

package com.login;

import java.io.IOException;
import java.sql.*;

import javax.servlet.ServletException;
import javax.servlet.http.*;

public class LoginServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        String uname = request.getParameter("username");
        String pass = request.getParameter("password");

        try {
            // Load driver
            Class.forName("com.mysql.cj.jdbc.Driver");

            // Create connection
            Connection con = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/login_db",
                "root",
                "Root123"
            );

            // SQL
            String sql = "SELECT * FROM users WHERE username=? AND password=?";
            PreparedStatement ps = con.prepareStatement(sql);
            ps.setString(1, uname);
            ps.setString(2, pass);

            ResultSet rs = ps.executeQuery();

            if (rs.next()) {
                response.getWriter().println("<h2>Login Successful</h2>");
                response.getWriter().println("Welcome " + uname);
            } else {
                response.getWriter().println("<h2>Login Failed</h2>");
            }

            con.close();

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}


signup.html
<!DOCTYPE html>
<html>
<head>
    <title>Signup</title>
</head>
<body>

<h2>Signup Form</h2>

<form action="SignupServlet" method="post">
    Username: <input type="text" name="username" required><br><br>
    Password: <input type="password" name="password" required><br><br>

    <input type="submit" value="Register">
</form>

<br>
<a href="login.html">Already have account? Login</a>

</body>
</html>


SignupServlet
package com.login;

import java.io.IOException;
import java.sql.*;

import javax.servlet.ServletException;
import javax.servlet.http.*;

public class SignUpServlet extends HttpServlet {

    protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {

        String uname = request.getParameter("username");
        String pass = request.getParameter("password");

        try {
            // Load driver
            Class.forName("com.mysql.cj.jdbc.Driver");

            // Connection
            Connection con = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/login_db",
                "root",
                "Root123"
            );

            // Insert query
            String sql = "INSERT INTO users VALUES (?, ?)";
            PreparedStatement ps = con.prepareStatement(sql);
            ps.setString(1, uname);
            ps.setString(2, pass);

            int i = ps.executeUpdate();

            if (i > 0) {
                response.getWriter().println("<h2>Signup Successful</h2>");
                response.getWriter().println("<a href='login.html'>Go to Login</a>");
            }

            con.close();

        } catch (Exception e) {
            response.getWriter().println("Username already exists!");
        }
    }
}

rnu as- run on server
http://localhost:9090/LoginUsingJDBC/login.html


===========================================================================================
9.REST API

src/main/java
package com.example.SpringRESTAPI.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "orders")
public class Order {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private int qty;
    private double price;
    private double total;

    // getters & setters
    public Long getId() {
        return id;
    }

    public int getQty() {
        return qty;
    }

    public void setQty(int qty) {
        this.qty = qty;
    }

    public double getPrice() {
        return price;
    }

    public void setPrice(double price) {
        this.price = price;
    }

    public double getTotal() {
        return total;
    }

    public void setTotal(double total) {
        this.total = total;
    }
}

package com.example.SpringRESTAPI.repo;

import org.springframework.data.jpa.repository.JpaRepository;
import com.example.SpringRESTAPI.entity.Order;

public interface OrderRepository extends JpaRepository<Order, Long> {
}


package com.example.SpringRESTAPI.controller;

import java.util.HashMap;
import java.util.Map;

import org.springframework.web.bind.annotation.*;

import com.example.SpringRESTAPI.entity.Order;
import com.example.SpringRESTAPI.repo.OrderRepository;

@RestController
@RequestMapping("/order")
public class OrderController {

    private final OrderRepository repo;

    public OrderController(OrderRepository repo) {
        this.repo = repo;
    }

    // POST /order
    @PostMapping
    public Map<String, Object> createOrder(@RequestBody Order order) {

        double total = order.getQty() * order.getPrice();
        order.setTotal(total);

        repo.save(order);

        Map<String, Object> response = new HashMap<>();
        response.put("status", "success");
        response.put("totalAmount", total);

        return response;
    }
}



application.properties
spring.application.name=SpringRESTAPI
spring.datasource.url=jdbc:mysql://localhost:3306/orderdb
spring.datasource.username=root
spring.datasource.password=Root123

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

server.port=9090



pom.xml
<dependency>
	<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>


<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>


if not working then open cmd in project and mvnw spring-boot:run 


==================================================
login using hibernate
====================================================
<h2>Login</h2>

<form action="LoginServlet" method="post">
    Username: <input type="text" name="username"><br><br>
    Password: <input type="password" name="password"><br><br>
    <input type="submit" value="Login">
</form>


<h2>Signup</h2>

<form action="SignupServlet" method="post">
    Username: <input type="text" name="username"><br><br>
    Password: <input type="password" name="password"><br><br>
    <input type="submit" value="Signup">
</form>

<a href="login.html">Already registered? Login</a>


<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.example</groupId>
  <artifactId>HibernateLoginApp</artifactId>
  <version>0.0.1-SNAPSHOT</version>
  <packaging>war</packaging>
  <dependencies>

    <!-- Hibernate Core -->
    <dependency>
        <groupId>org.hibernate.orm</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>6.4.4.Final</version>
    </dependency>

    <!-- MySQL Connector -->
    <dependency>
        <groupId>com.mysql</groupId>
        <artifactId>mysql-connector-j</artifactId>
        <version>8.4.0</version>
    </dependency>

    <!-- Servlet API -->
    <dependency>
        <groupId>jakarta.servlet</groupId>
        <artifactId>jakarta.servlet-api</artifactId>
        <version>6.0.0</version>
        <scope>provided</scope>
    </dependency>

    <!-- JPA API -->
    <dependency>
        <groupId>jakarta.persistence</groupId>
        <artifactId>jakarta.persistence-api</artifactId>
        <version>3.1.0</version>
    </dependency>

</dependencies>

</project>


package com.controller;

import com.entity.User;
import com.util.HibernateUtil;
import jakarta.servlet.*;
import jakarta.servlet.http.*;
import java.io.IOException;
import org.hibernate.*;

public class SignUpServlet extends HttpServlet {

	protected void doPost(HttpServletRequest req, HttpServletResponse res)
	        throws ServletException, IOException {

	    res.setContentType("text/html");

	    String uname = req.getParameter("username");
	    String pass = req.getParameter("password");

	    Session s = null;
	    Transaction tx = null;

	    try {
	        User u = new User();
	        u.setUsername(uname);
	        u.setPassword(pass);

	        s = HibernateUtil.getSessionFactory().openSession();
	        tx = s.beginTransaction();

	        s.persist(u);
	        tx.commit();

	        res.getWriter().println("Signup Successful <a href='login.html'>Login</a>");

	    } catch (Exception e) {
	        if (tx != null) tx.rollback();
	        res.getWriter().println("Username already exists!");
	    } finally {
	        if (s != null) s.close();
	    }
	}

}


package com.util;

import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class HibernateUtil {

    private static final SessionFactory factory =
            new Configuration().configure().buildSessionFactory();

    public static SessionFactory getSessionFactory() {
        return factory;
    }
}


package com.entity;

public class User {

}


hibernate.cfg.xml

<hibernate-configuration>
 <session-factory>

  <property name="hibernate.connection.driver_class">
    com.mysql.cj.jdbc.Driver
  </property>

  <property name="hibernate.connection.url">
    jdbc:mysql://localhost:3306/hibernate_login
  </property>

  <property name="hibernate.connection.username">root</property>
  <property name="hibernate.connection.password">Root123</property>

  <property name="hibernate.dialect">
    org.hibernate.dialect.MySQLDialect
  </property>

  <property name="hibernate.show_sql">true</property>
  <property name="hibernate.hbm2ddl.auto">update</property>

  <mapping class="com.entity.User"/>

 </session-factory>
</hibernate-configuration>



================================spring vc
======================================
package com.example.model;

public class User {
    private String name;
    private String email;
    private String password;

    // getters & setters
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public String getEmail() {
        return email;
    }
    public void setEmail(String email) {
        this.email = email;
    }
    public String getPassword() {
        return password;
    }
    public void setPassword(String password) {
        this.password = password;
    }
}






package com.example.controller;

import com.example.model.User;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

@Controller
public class RegisterController {

    @GetMapping("/register")
    public String showForm() {
        return "register";
    }

    @PostMapping("/register")
    public String submitForm(@ModelAttribute User user, Model model) {
        model.addAttribute("user", user);
        return "success";
    }
}




register.jsp

<%@ page language="java" %>
<html>
<head>
    <title>Registration</title>
</head>
<body>
<h2>Register</h2>

<form action="register" method="post">
    Name: <input type="text" name="name"><br><br>
    Email: <input type="email" name="email"><br><br>
    Password: <input type="password" name="password"><br><br>
    <input type="submit" value="Register">
</form>

</body>
</html>



success.jsp

<%@ page language="java" %>
<html>
<head>
    <title>Success</title>
</head>
<body>
<h2>Registration Successful</h2>

Name: ${user.name} <br>
Email: ${user.email}

</body>
</html>


web.xml

<web-app>

    <servlet>
        <servlet-name>dispatcher</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>dispatcher</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>

</web-app>



http://localhost:8080/SpringMVCFormApp/register

